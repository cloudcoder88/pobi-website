<section class="contact-section">
  <div class="contact-container">
    <h2 class="contact-title">Contact Us</h2>

    <form class="contact-form" (ngSubmit)="onSubmit(f)" #f="ngForm">
      <!-- Full Name -->
      <div class="form-group">
        <label for="name">Full Name *</label>
        <input
          type="text"
          id="name"
          name="fullName"
          [(ngModel)]="contact.fullName"
          #fullName="ngModel"
          placeholder="Your Full Name"
          required
          [class.error]="(fullName.invalid && (fullName.dirty || fullName.touched)) || (submitted && fullName.invalid)"
        />
        <div
          *ngIf="(fullName.invalid && (fullName.dirty || fullName.touched)) || (submitted && fullName.invalid)"
          class="error-message"
        >
          Full name is required
        </div>
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Email Address *</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="contact.email"
          #emailField="ngModel"
          placeholder="yourname@example.com"
          required
          email
          [class.error]="(emailField.invalid && (emailField.dirty || emailField.touched)) || (submitted && emailField.invalid)"
        />
        <div
          *ngIf="(emailField.invalid && (emailField.dirty || emailField.touched)) || (submitted && emailField.invalid)"
          class="error-message"
        >
          <div *ngIf="emailField.errors?.['required']">Valid email is required</div>
          <div *ngIf="emailField.errors?.['email']">Invalid email format</div>
        </div>
      </div>

      <!-- Phone -->
      <div class="form-group">
        <label for="phone">Your Phone Number</label>
        <input
          type="tel"
          id="phone"
          name="phone"
          [(ngModel)]="contact.phone"
          #phoneField="ngModel"
          placeholder="e.g. +234567892345"
        />
      </div>

      <!-- Message -->
      <div class="form-group">
        <label for="message">Your Message *</label>
        <textarea
          id="message"
          name="message"
          [(ngModel)]="contact.message"
          #messageField="ngModel"
          rows="5"
          placeholder="Type your message here..."
          required
          minlength="10"
          [class.error]="(messageField.invalid && (messageField.dirty || messageField.touched)) || (submitted && messageField.invalid)"
        ></textarea>
        <div
          *ngIf="(messageField.invalid && (messageField.dirty || messageField.touched)) || (submitted && messageField.invalid)"
          class="error-message"
        >
          <div *ngIf="messageField.errors?.['required']">Message is required</div>
          <div *ngIf="messageField.errors?.['minlength']">
            Message must be at least 10 characters long
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" [disabled]="isLoading">
        <span *ngIf="!isLoading">Send Message To The Vendor</span>
        <span *ngIf="isLoading">Sending...</span>
      </button>

      <!-- Server Response Messages -->
      <div *ngIf="serverMessage" [class]="isSucess ? 'success-message' : 'error-message'">
        {{ serverMessage }}
      </div>
    </form>
  </div>
</section>